{
  "$schema": "https://raw.githubusercontent.com/govuk-one-login/quality-gates/refs/tags/v0.1.0/schemas/schema.json",
  "services": [
    {
      "service-tag": "mobile-wallet-document-builder",
      "quality-gates": [
        {
          "phase": "pre-merge",
          "provider": "GitHub",
          "config": {
            "file": ".github/workflows/pull-request.yml",
            "path": "jobs.ci"
          },
          "check-types": ["unit", "code style and linting"]
        },
        {
          "phase": "pre-merge",
          "provider": "GitHub",
          "config": {
            "file": ".github/workflows/sonarqube.yml",
            "path": "jobs.run-code-quality-and-security-analysis"
          },
          "check-types": [
            "unit",
            "unit test coverage",
            "code quality",
            "vulnerability detection",
            "secret scanning"
          ]
        },
        {
          "phase": "pre-upload",
          "provider": "GitHub",
          "config": {
            "file": ".github/workflows/push-to-main.yml",
            "path": "jobs.upload-s3-artifact-to-build"
          },
          "check-types": ["code style and linting"]
        },
        {
          "phase": "pre-upload",
          "provider": "GitHub",
          "config": {
            "file": ".github/workflows/sonarqube.yml",
            "path": "jobs.run-code-quality-and-security-analysis"
          },
          "check-types": [
            "unit",
            "unit test coverage",
            "code quality",
            "vulnerability detection",
            "secret scanning"
          ]
        }
      ]
    }
  ]
}
